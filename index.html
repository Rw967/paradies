<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Paradies.io</title>
    <style>
        :root {
            --neon: #00f7ff;
            --gold: #ffd700;
            --bg: #020205;
            --win: #00ff88;
            --red: #ff4d4d;
        }

        body {
            background: var(--bg);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            margin: 0;
            overflow: hidden;
            user-select: none;
        }

        #bgCanvas {
            position: fixed;
            inset: 0;
            z-index: -1;
        }

        .overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .window {
            background: #0a0a0f;
            border: 2px solid var(--neon);
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            width: 85%;
            max-width: 900px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 0 30px rgba(0,247,255,0.2);
        }

        .btn {
            background: transparent;
            border: 1px solid var(--neon);
            color: var(--neon);
            padding: 10px 15px;
            margin: 5px;
            cursor: pointer;
            border-radius: 8px;
            font-weight: bold;
            transition: 0.2s;
            text-transform: uppercase;
            font-size: 11px;
        }

            .btn:hover {
                background: var(--neon);
                color: #000;
                box-shadow: 0 0 10px var(--neon);
            }

        .btn-gold {
            border-color: var(--gold);
            color: var(--gold);
        }

        .btn-red {
            border-color: var(--red);
            color: var(--red);
        }

        .btn-selected {
            border-color: var(--win);
            color: var(--win);
            background: rgba(0,255,136,0.1);
        }

        #briefing {
            background: rgba(255,255,255,0.05);
            border: 1px dashed var(--neon);
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            color: #ccc;
            font-size: 14px;
            display: none;
            text-align: left;
        }

        #welt {
            width: 1000px;
            height: 600px;
            background: rgba(0,0,0,0.85);
            border: 1px solid #333;
            margin: 60px auto;
            position: relative;
            overflow: hidden;
            display: none;
            cursor: crosshair;
        }

        #player {
            position: absolute;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            box-shadow: 0 0 15px var(--neon);
        }

        #hud {
            position: absolute;
            top: 0;
            width: 100%;
            height: 55px;
            display: none;
            justify-content: space-around;
            align-items: center;
            background: #000;
            border-bottom: 2px solid var(--neon);
        }

        #notification-toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: #111;
            border: 2px solid var(--neon);
            color: white;
            padding: 12px 25px;
            border-radius: 10px;
            z-index: 2000;
            display: none;
        }

        .apple {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #ff3333;
            border-radius: 50%;
            box-shadow: 0 0 10px red;
        }

        .enemy {
            position: absolute;
            background: red;
            border: 2px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
        }

        .bullet {
            position: absolute;
            background: yellow;
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
    </style>
</head>
<body oncontextmenu="return false;">

    <canvas id="bgCanvas"></canvas>
    <div id="notification-toast"></div>

    <div id="mainMenu" class="overlay" style="display: flex;">
        <h1 style="color: var(--neon); font-size: 60px; text-shadow: 0 0 20px var(--neon); margin: 0;">PARADIES.IO</h1>
        <div style="color: var(--gold); font-size: 24px; margin: 10px 0;">BANK: <span id="bankDisplay">0</span> ü™ô</div>
        <button class="btn" onclick="toggleMenu('modeMenu', true)">MISSION STARTEN</button>
        <button class="btn btn-gold" onclick="toggleMenu('shopMenu', true)">SKIN SHOP (50)</button>
    </div>

    <div id="modeMenu" class="overlay">
        <div class="window">
            <h2 style="color: var(--neon);">MISSION W√ÑHLEN</h2>
            <div id="modeButtons" style="display: grid; grid-template-columns: repeat(4, 1fr);">
            </div>

            <div id="briefing">
                <strong id="briefingTitle" style="color: var(--neon); font-size: 18px;"></strong><br><br>
                <span id="briefingText"></span>
            </div>

            <button id="playNowBtn" style="background:var(--win); color:black; border:none; padding:15px 40px; font-size:20px; display:none; margin: 10px auto; cursor:pointer; border-radius:10px; font-weight:900;" onclick="startGame()">JETZT STARTEN</button>
            <br><button class="btn" onclick="toggleMenu('modeMenu', false)">ZUR√úCK</button>
        </div>
    </div>

    <div id="shopMenu" class="overlay">
        <div class="window">
            <h2 style="color: var(--gold);">SKIN SHOP</h2>
            <div id="skinList" style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 8px;"></div>
            <br><button class="btn" onclick="toggleMenu('shopMenu', false)">ZUR√úCK</button>
        </div>
    </div>

    <div id="hud">
        <div id="hud-mode" style="color:var(--neon)">-</div>
        <div>‚ù§Ô∏è <span id="hud-lives">3</span></div>
        <div>ü™ô <span id="hud-coins">0</span></div>
        <div id="hud-stat">STAT: 0</div>
        <button class="btn btn-gold" onclick="endAndSave()">üíæ SICHERN & BEENDEN</button>
    </div>

    <div id="welt"><div id="player"></div></div>

    <div id="deathScreen" class="overlay">
        <div style="color: var(--red); font-size: 70px; font-weight: 900; font-style: italic;">WASTED</div>
        <button class="btn btn-gold" onclick="respawn()">RESPAWN (5 ü™ô)</button>
        <button class="btn" onclick="location.reload()">HAUPTMEN√ú</button>
    </div>

    <script>
        // --- DATEN ---
        let bank = parseInt(localStorage.getItem('p_bank')) || 0;
        let ownedSkins = JSON.parse(localStorage.getItem('p_skins')) || ['üü¶'];
        let currentSkin = 'üü¶';
        let x=480, y=280, lives=3, sessionCoins=0, score=0, pSize=25, isAlive=false;
        let currentMode='', keys={}, selectedModeId = '';

        const modeData = {
        'Gigant': 'Friss √Ñpfel um zu wachsen. Ziel: 350px Gr√∂√üe. Ber√ºhre NICHT den Rand (Border), sonst verlierst du ein Leben!',
        'Kampf': '√úberlebe die D√§monen! Benutze die MAUS zum Schie√üen. Ber√ºhre die Gegner nicht, sonst bist du sofort erledigt.',
        'Coins': 'M√ºnz-Rausch! Sammle √Ñpfel, um massig Geld zu verdienen. Aber Vorsicht: Die Border ist t√∂dlich.',
        'Speed': 'Extremer Speedrun! Du bist super schnell. Sammle √Ñpfel, aber knall nicht gegen die Wand!',
        'Dodge': 'Ausweich-Modus! Die Gegner bewegen sich. Bleib weg von ihnen und sammle √Ñpfel f√ºr Punkte.',
        'Ghost': 'Du bist fast unsichtbar. Die Border ist hier dein gr√∂√üter Feind, da man sich leicht versch√§tzt.',
        'Hardcore': 'Nur 1 Leben! Jede Ber√ºhrung mit Gegnern oder der Border bedeutet das sofortige Ende.',
        'Chaos': 'Vorsicht! Die Gegner teleportieren sich zuf√§llig. Du musst extrem schnell reagieren.'
        };

        const player = document.getElementById('player');
        const welt = document.getElementById('welt');

        // Hintergrund
        const canvas = document.getElementById('bgCanvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let stars = Array(100).fill().map(() => ({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, s: Math.random()*2 }));
        function drawBg() {
        ctx.fillStyle = "#000"; ctx.fillRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle = "#fff"; stars.forEach(st => { ctx.fillRect(st.x, st.y, st.s, st.s); st.y += 0.4; if(st.y > canvas.height) st.y=0; });
        requestAnimationFrame(drawBg);
        }
        drawBg();

        // Modus Buttons generieren
        const modeBox = document.getElementById('modeButtons');
        Object.keys(modeData).forEach(m => {
        const b = document.createElement('button');
        b.className = 'btn';
        b.innerText = m;
        b.onclick = () => {
        selectedModeId = m;
        document.querySelectorAll('#modeButtons .btn').forEach(btn => btn.classList.remove('btn-selected'));
        b.classList.add('btn-selected');
        document.getElementById('briefing').style.display = 'block';
        document.getElementById('briefingTitle').innerText = m.toUpperCase();
        document.getElementById('briefingText').innerText = modeData[m];
        document.getElementById('playNowBtn').style.display = 'block';
        };
        modeBox.appendChild(b);
        });

        // Skins Shop
        const skinIcons = ['üü¶','üê±','üòé','üëΩ','ü§ñ','üê∂','ü¶ä','ü¶Å','üêØ','üê∏','üêµ','ü¶Ñ','üêù','üêô','üê°','üê¢','ü¶ñ','üêâ','üöÄ','üõ∏','üíé','üî•','‚ùÑÔ∏è','‚ö°Ô∏è','üåà','üçï','üçî','üç¶','‚öΩÔ∏è','üéÆ','üëë','üé∏','üëæ','üëª','üéÉ','üíÄ','üçÄ','üßø','üîã','üíª'];
        function renderShop() {
        const list = document.getElementById('skinList'); list.innerHTML = '';
        skinIcons.forEach((icon, i) => {
        const price = i * 2; const owned = ownedSkins.includes(icon);
        const btn = document.createElement('button'); btn.className = 'btn';
        btn.innerHTML = `${icon}<br>${owned ? 'JA' : price+'ü™ô'}`;
        btn.onclick = () => {
        if(owned) { currentSkin = icon; showNote("Skin gew√§hlt!"); }
        else if(bank >= price) { bank -= price; ownedSkins.push(icon); localStorage.setItem('p_skins', JSON.stringify(ownedSkins)); saveAll(); renderShop(); }
        };
        list.appendChild(btn);
        });
        }

        function toggleMenu(id, s) { document.getElementById(id).style.display = s ? 'flex' : 'none'; if(id==='shopMenu') renderShop(); }
        function showNote(t) { const n = document.getElementById('notification-toast'); n.innerText = t; n.style.display = 'block'; setTimeout(() => n.style.display='none', 2000); }

        function startGame() {
        currentMode = selectedModeId; isAlive = true; lives = (currentMode==='Hardcore'?1:3); sessionCoins = 0; score = 0; pSize = 25;
        document.querySelectorAll('.overlay').forEach(o => o.style.display='none');
        document.getElementById('hud').style.display = 'flex';
        document.getElementById('welt').style.display = 'block';
        welt.innerHTML = '<div id="player"></div>';
        if(['Kampf','Chaos','Hardcore'].includes(currentMode)) setInterval(() => { if(isAlive) spawnEnemy(); }, 2000);
        spawnApple(); updateUI(); loop();
        }

        function spawnApple() {
        const a = document.createElement('div'); a.className='apple';
        a.style.left = Math.random()*950+"px"; a.style.top = Math.random()*550+"px";
        welt.appendChild(a);
        }

        function spawnEnemy() {
        const e = document.createElement('div'); e.className='enemy';
        e.style.width="30px"; e.style.height="30px"; e.innerText="üòà";
        e.style.left=Math.random()*950+"px"; e.style.top=Math.random()*550+"px";
        welt.appendChild(e);
        if(currentMode==='Chaos') setInterval(() => { e.style.left = Math.random()*950+"px"; e.style.top = Math.random()*550+"px"; }, 1500);
        }

        welt.onclick = (e) => {
        if(!isAlive) return;
        const rect = welt.getBoundingClientRect();
        const bx = x + pSize/2, by = y + pSize/2;
        const b = document.createElement('div'); b.className = 'bullet';
        welt.appendChild(b);
        const angle = Math.atan2(e.clientY - rect.top - by, e.clientX - rect.left - bx);
        const vx = Math.cos(angle)*12, vy = Math.sin(angle)*12;
        let bX = bx, bY = by;
        let m = setInterval(() => {
        bX += vx; bY += vy; b.style.left = bX+"px"; b.style.top = bY+"px";
        if(bX<0 || bX>1000 || bY<0 || bY>600) { clearInterval(m); b.remove(); }
        document.querySelectorAll('.enemy').forEach(en => {
        if(Math.abs(bX - parseInt(en.style.left)) < 25 && Math.abs(bY - parseInt(en.style.top)) < 25) {
        en.remove(); b.remove(); clearInterval(m); sessionCoins++; updateUI();
        }
        });
        }, 20);
        };

        window.onkeydown = (e) => keys[e.code] = true;
        window.onkeyup = (e) => keys[e.code] = false;

        function loop() {
        if(!isAlive) return;
        let s = (currentMode==='Speed' ? 14 : 7);
        if(keys['ArrowUp'] || keys['KeyW']) y -= s;
        if(keys['ArrowDown'] || keys['KeyS']) y += s;
        if(keys['ArrowLeft'] || keys['KeyA']) x -= s;
        if(keys['ArrowRight'] || keys['KeyD']) x += s;

        if(x<0 || x>1000-pSize || y<0 || y>600-pSize) die();

        document.querySelectorAll('.apple').forEach(a => {
        if(Math.abs(x-parseInt(a.style.left)) < pSize && Math.abs(y-parseInt(a.style.top)) < pSize) {
        a.remove(); spawnApple();
        if(currentMode === 'Gigant') { pSize += 10; if(pSize>=350) endAndSave(); }
        else { score++; if(score%2===0) sessionCoins++; }
        updateUI();
        }
        });

        document.querySelectorAll('.enemy').forEach(en => {
        if(Math.abs(x-parseInt(en.style.left)) < pSize && Math.abs(y-parseInt(en.style.top)) < pSize) die();
        });

        const p = document.getElementById('player');
        if(p) {
        p.innerText = currentSkin; p.style.left = x+"px"; p.style.top = y+"px";
        p.style.width = pSize+"px"; p.style.height = pSize+"px";
        p.style.fontSize = (pSize*0.7)+"px";
        p.style.background = (currentSkin==='üü¶'?'var(--neon)':'transparent');
        p.style.opacity = (currentMode==='Ghost' ? 0.4 : 1);
        }
        requestAnimationFrame(loop);
        }

        function die() {
        lives--; updateUI();
        if(lives <= 0) { isAlive = false; toggleMenu('deathScreen', true); }
        else { x=480; y=280; showNote("Leben verloren!"); }
        }

        function respawn() {
        if(bank >= 5) { bank -= 5; lives = 3; isAlive = true; x=480; y=280; toggleMenu('deathScreen', false); loop(); saveAll(); }
        else showNote("Nicht genug M√ºnzen!");
        }

        function endAndSave() {
        bank += sessionCoins; saveAll(); location.reload();
        }

        function saveAll() {
        localStorage.setItem('p_bank', bank);
        document.getElementById('bankDisplay').innerText = bank;
        }

        function updateUI() {
        document.getElementById('hud-mode').innerText = currentMode;
        document.getElementById('hud-lives').innerText = lives;
        document.getElementById('hud-coins').innerText = sessionCoins;
        document.getElementById('hud-stat').innerText = "SCORE: " + (currentMode==='Gigant' ? pSize : score);
        document.getElementById('bankDisplay').innerText = bank;
        }

        document.getElementById('bankDisplay').innerText = bank;
    </script>
</body>
</html>